<!DOCTYPE chapter PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN" "http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd" [
<!ENTITY % CustomDTD SYSTEM "../../../../../../docbook/custom.dtd">
%CustomDTD;
]>
<chapter id="introduction">
  <title>Developing For Teiid</title>
  
  <section>
  <title>Introduction to the Teiid Connector Architecture</title>
  
  <itemizedlist>
  	<para>Integrating data from a Enterprise Information System (EIS) into Teiid, is separated into two parts.</para>
  	<listitem>
      <para>A Translator, which is required.</para>
    </listitem>
    <listitem>
      <para>An optional Resource Adapter, which will typically be a JCA Resource Adapter (also called a JEE Connector) </para>
    </listitem>
  </itemizedlist>  
  
  <para>A Translator is used to:</para>
  <itemizedlist>
    <listitem>
      <para>Translate a Teiid-specific command into a native command.</para>
    </listitem>
    <listitem>
      <para>Execute the command.</para>
    </listitem>
    <listitem>
      <para>Return batches of results translated to expected Teiid types.</para>
    </listitem>
  </itemizedlist>
  
  <para>A Resource Adapter:</para>
  <itemizedlist>
    <listitem>
      <para>Handles all communications with individual enterprise information system (EIS), which can include databases, data feeds, flat files, etc.</para>
    </listitem>
    <listitem>
      <para>Can be a <ulink url="http://java.sun.com/j2ee/connector/">JCA Connector</ulink> or any other custom connection provider. 
      The reason Teiid recommends and uses JCA is this specification defines how one can write, package, and configure access to EIS system in consistent manner.
      There are also various commercial/open source software vendors already providing JCA Connectors to access a variety of back-end systems.</para>
    </listitem>
    <listitem>
      <para>Abstracts Translators from many common concerns, such as connection information, resource pooling, or authentication.</para>
    </listitem>    
  </itemizedlist>
      
  <para>Given a combination of a Translator + Resource Adapter, one can connect any EIS system to Teiid for their data integration needs.</para>
  </section>
  
  <section>
    <title>Do You Need a New Translator?</title>
    <para>Teiid provides several translators for common enterprise information system types. If
      you can use one of these enterprise information systems, you do not need to develop a custom one.
    </para>
    <para>Teiid offers the following translators:</para>
    <itemizedlist>
      <listitem>
        <para>
          <emphasis>JDBC:</emphasis>
          Works with many relational databases. The JDBC translator is validated against the following database
          systems: Oracle, Microsoft SQL Server, IBM DB2, MySQL, Postgres, Derby, Sybase, H2, and HSQL. In addition, the JDBC Translator can
          often be used with other 3rd-party drivers and provides a wide range of extensibility options to
          specialize behavior against those drivers.
        </para>
      </listitem>
      <listitem>
        <para>
          <emphasis>File:</emphasis>
          Provides a procedural way to access the file system to handle text files.
        </para>
      </listitem>
      <listitem>
        <para>
          <emphasis>WS:</emphasis> Provides procedural access to XML content via Web Services.
        </para>
      </listitem>
      <listitem>
        <para>
          <emphasis>LDAP:</emphasis> Accesses to LDAP directory services.
        </para>
      </listitem>
      <listitem>
        <para>
          <emphasis>Salesforce:</emphasis> Works with Salesforce interfaces.
        </para>
      </listitem>
    </itemizedlist>
    <section>
    <title>Custom Translators</title>
    <orderedlist numeration="arabic">
      <para>High-level Translator development procedure:</para>
      <listitem>
        <para><link linkend="custom_ra_intro"></link>Create a new or reuse an existing Resource Adapater for the EIS system, to be used with this Translator</para>
      </listitem>
      <listitem>
        <para>Implement the required classes defined by the <link linkend="translator_api">Translator API</link>.</para>
        <itemizedlist>
          <listitem>
            <para>Create an ExecutionFactory – Extend the <code>org.teiid.translator.ExecutionFactory</code> class</para>
          </listitem>
          <listitem>
            <para>Create relevant Executions (and sub-interfaces) – specifies how to execute each type of command</para>
          </listitem>
        </itemizedlist>
      </listitem>
      <listitem>
        <para>Define the <link linkend="translator_package">template</link> for exposing configuration properties.</para>
      </listitem>
      <listitem>
        <para><link linkend="translator_deploy">Deploy</link> your Translator.</para>
        <itemizedlist>
          <listitem>
            <para>Deploy a Virtual Database (VDB) utilizing your Translator.</para>
          </listitem>
        </itemizedlist>
      </listitem>
      <listitem>
        <para>Execute queries via Teiid.</para>
      </listitem>
    </orderedlist>
    <para>
      This guide covers how to do each of these steps in detail. It also provides additional information for
      advanced topics, such as streaming large objects. For sample
      Translator code, please check the <ulink url="http://anonsvn.jboss.org/repos/teiid/trunk/connectors/">Teiid source code</ulink>
    </para>
  </section>
  </section>
  <section>
    <title>Do You Need a New Resource Adapter?</title>
    <para>As mentioned above, for every Translator that needs to gather data from external source systems, it requires a resource adapter.
    </para>
    
    <itemizedlist>
    <para>The following resource adapters are available to Teiid.</para>
      <listitem>
        <para><emphasis>DataSource:</emphasis> This is provided by the JBoss AS container. This is used by the JDBC Translator.</para>
      </listitem>
      <listitem>
        <para><emphasis>File:</emphasis> Provides a JEE JCA based Connector to access defined directory on the file system.  This is used by the File Translator</para>
      </listitem>
      <listitem>
        <para><emphasis>WS:</emphasis> Provides JEE JCA Connector to invoke Web Services using JBoss Web services stack. This is used by the WS Translator</para>
      </listitem>
      <listitem>
        <para>
          <emphasis>LDAP:</emphasis> Provides JEE JCA connector to access LDAP; Used by the LDAP Translator.
        </para>
      </listitem>
      <listitem>
        <para>
          <emphasis>Salesforce:</emphasis> Provides JEE JCA connector to access Salesforce by invoking their Web Service interface. Used by the SalesForce Translator.
        </para>
      </listitem>
    </itemizedlist>
    
    <section id="custom_ra_intro">
    <title>Custom Resource Adapters</title>
    <orderedlist numeration="arabic">
    	<para>High-level Resource Adapter development procedure:</para>
        <listitem>
            <para>Understand the <ulink url="http://java.sun.com/j2ee/connector/">JEE Connector</ulink> specification to have basic idea about what JCA connectors are how they are developed and packaged.</para>
        </listitem>
      <listitem>
        <para>Gather all necessary information about your Enterprise Information System (EIS). You will need
          to know:</para>
        <itemizedlist>
          <listitem>
            <para>API for accessing the system</para>
          </listitem>
          <listitem>
            <para>Configuration and connection information for the system</para>
          </listitem>
          <listitem>
            <para>Expectation for incoming queries/metadata</para>
          </listitem>
          <listitem>
            <para>The processing constructs, or capabilities, supported by information system.</para>
          </listitem>
          <listitem>
            <para>Required properties for the connection, such as URL, user name, etc.</para>
          </listitem>
        </itemizedlist>
      </listitem>
      <listitem>
        <para>Base classes for all of the required supporting JCA SPI classes are provided by the Teiid API. The JCA CCI support is not provided from Teiid, since Teiid uses the Translator API as it's common client interface.  You will want to extend:</para>
        <itemizedlist>
          <listitem>
            <para>BasicConnectionFactory – Defines the Connection Factory</para>
          </listitem>
          <listitem>
            <para>BasicConnection – represents a connection to the source.</para>
          </listitem>
          <listitem>
            <para>BasicResourceAdapter – Specifies the resource adapter class</para>
          </listitem>
        </itemizedlist>
      </listitem>
      <listitem>
        <para><link linkend="ra_package">Package</link> your resource adapter.</para>
      </listitem>      
      <listitem>
        <para><link linkend="ra_package">Deploy</link> your resource adapter.</para>
      </listitem>
    </orderedlist>
    <para>
      This guide covers how to do each of these steps in detail. It also provides additional information for
      advanced topics, such as transactions. For a sample
      resource adapter code, please check the <ulink url="http://anonsvn.jboss.org/repos/teiid/trunk/connectors/">Teiid Source code</ulink>
    </para>
  </section>    
  </section>
  
  <section>
  	<title>Other Teiid Development</title>
  	<para>Teiid is highly extensible in other ways:</para>
  	<itemizedlist>
  		<listitem>
  			<para>You may add <link linkend="udfs">User Defined Functions</link>.</para>
  		</listitem>
  		<listitem>
  			<para>You may adapt <link linkend="logging">logging</link> to your needs, which is especially useful for custom audit or command logging.</para>
  		</listitem>
  		<listitem>
  			<para>You may change the <link linkend="custom_security">security</link> subsystem for custom authentication and authorization.</para>
  		</listitem>
  	</itemizedlist>
  </section>
  
</chapter>