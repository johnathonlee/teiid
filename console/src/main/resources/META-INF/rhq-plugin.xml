<?xml version="1.0" encoding="UTF-8" ?>

	<!--
		* JBoss, Home of Professional Open Source. * See the COPYRIGHT.txt
		file distributed with this work for information * regarding copyright
		ownership. Some portions may be licensed * to Red Hat, Inc. under one
		or more contributor license agreements. * * This library is free
		software; you can redistribute it and/or * modify it under the terms
		of the GNU Lesser General Public * License as published by the Free
		Software Foundation; either * version 2.1 of the License, or (at your
		option) any later version. * * This library is distributed in the hope
		that it will be useful, * but WITHOUT ANY WARRANTY; without even the
		implied warranty of * MERCHANTABILITY or FITNESS FOR A PARTICULAR
		PURPOSE. See the GNU * Lesser General Public License for more details.
		* * You should have received a copy of the GNU Lesser General Public *
		License along with this library; if not, write to the Free Software *
		Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA *
		02110-1301 USA. */
	-->

<!DOCTYPE plugin [
<!ENTITY datasourceAndConnectionFactoryAdvancedResourceConfigProps '
    <c:simple-property name="allocation-retry" type="integer" required="false"
                       defaultValue="0">
        <c:description>
            The number of times that allocating a connection should be tried before throwing an exception. The default
            is 0.
        </c:description>
    </c:simple-property>

    <c:simple-property name="allocation-retry-wait-millis" type="long" required="false"  units="milliseconds"
                       defaultValue="5000">
        <c:description>
            The time in milliseconds to wait between retrying to allocate a connection. The default is 5000 (5 seconds).
        </c:description>
    </c:simple-property>

    <c:simple-property name="background-validation" type="boolean" required="false" defaultValue="false">
        <c:description>
            Specify if connections should be validated on a background thread versus being validated
            prior to use. Background validation is meant to reduce the overall load on the RDBMS system when validating
            a connection. The default is No.
        </c:description>
    </c:simple-property>

    <c:simple-property name="background-validation-millis" type="long" required="false" units="milliseconds"
                       defaultValue="0">
        <c:description>
            The interval, in milliseconds, at which the ConnectionValidator will run.  Set to 0 to disable background
            validation. The default is 0.
        </c:description>
    </c:simple-property>

    <c:simple-property name="blocking-timeout-millis" displayName="Blocking Timeout in Milliseconds"
                       units="milliseconds" defaultValue="30000"
                       type="integer" required="false">
        <c:description>
            Indicates the maximum time in milliseconds to block while waiting for a connection before throwing
            an exception. Note that this blocks only while waiting for a permit for a connection, and will never
            throw an exception if creating a new connection takes an inordinately long time. The default is 30000
            (30 seconds).
        </c:description>
        <c:constraint>
            <c:integer-constraint minimum="0"/>
        </c:constraint>
    </c:simple-property>

    <c:simple-property name="idle-timeout-minutes" type="integer" activationPolicy="immediate"
                       displayName="Idle Timeout" units="minutes" required="false" defaultValue="30">
        <c:description>
            The maximum time, in minutes, a connection may be idle before being closed. The default is 30.
        </c:description>
        <c:constraint>
            <c:integer-constraint minimum="0"/>
        </c:constraint>
    </c:simple-property>

    <c:simple-property name="isSameRM-override-value" type="boolean" required="false">
        <c:description>
            If set, unconditionally sets the boolean return value of javax.transaction.xa.XAResource.isSameRM(XAResource).
        </c:description>
    </c:simple-property>

    <c:simple-property name="jmx-invoker-name" required="false">
        <c:description>
            The ObjectName of the JMX Invoker MBean associated with this datasource.
        </c:description>
    </c:simple-property>

    <c:map-property name="metadata" required="false" description="Metadata properties.">
        <c:simple-property required="false" name="typeMapping">
            <c:description>
                The name of the corresponding type-mapping in conf/standardjbosscmp-jdbc.xml.
            </c:description>
            <c:property-options>
                <c:option name="Cloudscape" value="Cloudscape"/>
                <c:option name="DB2" value="DB2"/>
                <c:option name="DB2/400" value="DB2/400"/>
                <c:option name="Derby" value="Derby"/>
                <c:option name="Firebird" value="Firebird"/>
                <c:option name="FirstSQL/J" value="FirstSQL/J"/>
                <c:option name="Hypersonic SQL" value="Hypersonic SQL"/>
                <c:option name="InformixDB" value="InformixDB"/>
                <c:option name="Ingres" value="Ingres"/>
                <c:option name="InterBase" value="InterBase"/>
                <c:option name="MaxDB" value="MaxDB"/>
                <c:option name="McKoi" value="McKoi"/>
                <c:option name="Mimer SQL" value="Mimer SQL"/>
                <c:option name="MS SQLSERVER" value="MS SQLSERVER"/>
                <c:option name="MS SQLSERVER2000" value="MS SQLSERVER2000"/>
                <c:option name="Oracle7" value="Oracle7"/>
                <c:option name="Oracle8" value="Oracle8"/>
                <c:option name="Oracle9i" value="Oracle9i"/>
                <c:option name="PointBase" value="PointBase"/>
                <c:option name="PostgreSQL" value="PostgreSQL"/>
                <c:option name="PostgreSQL 7.2" value="PostgreSQL 7.2"/>
                <c:option name="PostgreSQL 8.0" value="PostgreSQL 8.0"/>
                <c:option name="SapDB" value="SapDB"/>
                <c:option name="SOLID" value="SOLID"/>
                <c:option name="Sybase" value="Sybase"/>
            </c:property-options>
        </c:simple-property>
    </c:map-property>

    <c:simple-property name="no-tx-separate-pools" type="boolean"
                       displayName="No Tx Separate Pools" required="false">
        <c:description>Whether or not to use separate pools. The default is Yes.</c:description>
        <c:property-options>
            <c:option name="True" value="true"/>
            <c:option name="False" value="false"/>
        </c:property-options>
    </c:simple-property>

    <c:simple-property name="prefill" type="boolean" required="false">
        <c:description>
            Whether to attempt to prefill the connection pool to the minimum number of connections. NOTE: Only
            supporting pools (OnePool) support this feature. A warning can be found in the logs if the pool does not
            support this. The default is No.
        </c:description>
    </c:simple-property>

    <c:map-property name="security-domain" displayName="Security Settings" required="false">
        <c:description>
            Security settings for connections in the pool.
        </c:description>

        <c:simple-property name="securityDeploymentType" type="string"
                           required="false" defaultValue="NONE">
            <c:description>
                Indicates whether Subject (from security domain), application-supplied parameters
                (such as from getConnection(user, pw)), both Subject and app-supplied parameters,
                or neither Subject nor app-supplied parameters are used to distinguish connections
                in the pool. The default is "NONE".
            </c:description>
            <c:property-options>
                <c:option name="None" value="NONE"/>
                <c:option name="Application" value="APPLICATION"/>
                <c:option name="Domain" value="DOMAIN"/>
                <c:option name="Domain and Application" value="DOMAIN_AND_APPLICATION"/>
            </c:property-options>
        </c:simple-property>

        <c:simple-property name="domain" type="string"
                           required="false">
            <c:description>
                The name of the JAAS security manager that will handle authentication (only required if security
                deployment type is DOMAIN or DOMAIN_AND_APPLICATION). This name correlates to the JAAS login-config.xml
                descriptor application-policy/name attribute.
            </c:description>
        </c:simple-property>
    </c:map-property>

    <c:simple-property name="statistics-formatter" required="false">
        <c:description>
             The fully qualified class name of the class to use for formatting managed connection pool statistics for
             this datasource. The class must implement the org.jboss.resource.statistic.formatter.StatisticsFormatter.
             interface. The default is "org.jboss.resource.statistic.pool.JBossDefaultSubPoolStatisticFormatter".
        </c:description>
    </c:simple-property>

    <c:simple-property name="type-mapping" displayName="Type Mapping" required="false">
        <c:description>
            The name of the corresponding type-mapping in conf/standardjbosscmp-jdbc.xml.
        </c:description>
        <c:property-options>
            <c:option name="Cloudscape" value="Cloudscape"/>
            <c:option name="DB2" value="DB2"/>
            <c:option name="DB2/400" value="DB2/400"/>
            <c:option name="Derby" value="Derby"/>
            <c:option name="Firebird" value="Firebird"/>
            <c:option name="FirstSQL/J" value="FirstSQL/J"/>
            <c:option name="Hypersonic SQL" value="Hypersonic SQL"/>
            <c:option name="InformixDB" value="InformixDB"/>
            <c:option name="Ingres" value="Ingres"/>
            <c:option name="InterBase" value="InterBase"/>
            <c:option name="MaxDB" value="MaxDB"/>
            <c:option name="McKoi" value="McKoi"/>
            <c:option name="Mimer SQL" value="Mimer SQL"/>
            <c:option name="MS SQLSERVER" value="MS SQLSERVER"/>
            <c:option name="MS SQLSERVER2000" value="MS SQLSERVER2000"/>
            <c:option name="Oracle7" value="Oracle7"/>
            <c:option name="Oracle8" value="Oracle8"/>
            <c:option name="Oracle9i" value="Oracle9i"/>
            <c:option name="PointBase" value="PointBase"/>
            <c:option name="PostgreSQL" value="PostgreSQL"/>
            <c:option name="PostgreSQL 7.2" value="PostgreSQL 7.2"/>
            <c:option name="PostgreSQL 8.0" value="PostgreSQL 8.0"/>            
            <c:option name="SapDB" value="SapDB"/>
            <c:option name="SOLID" value="SOLID"/>
            <c:option name="Sybase" value="Sybase"/>
        </c:property-options>
    </c:simple-property>

    <c:simple-property name="use-java-context"
                       displayName="Use Java Context"
                       type="boolean" defaultValue="true"
                       required="false">
        <c:description>
            Indicates whether the JNDI name should be bound under the "java" context,
            which causes the DataSource to only be accessible from within the JBossAS VM.
            The default is Yes.
        </c:description>
    </c:simple-property>

    <c:simple-property name="use-strict-min" type="boolean" required="false">
        <c:description>
             Whether idle connections below the min-pool-size should be closed. The default is No.
        </c:description>
    </c:simple-property>

    <c:simple-property name="validate-on-match" type="boolean" required="false" defaultValue="true">
        <c:description>
            The validate-on-match element indicates whether or not connection level validation should be done when a
            connection factory attempts to match a managed connection for a given set. This is typically exclusive to
            the use of background validation. The default is Yes.
        </c:description>
    </c:simple-property>
'>

]>

<!--############################################# END OF XML ENTITIES ###############################################-->



<plugin name="TeiidPlugin" displayName="Teiid Plugin" package="org.teiid.rhq.plugin"
	version="2.0.0" description="Supports management and monitoring of JBoss Teiid"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns="urn:xmlns:rhq-plugin"
	xmlns:c="urn:xmlns:rhq-configuration">

	<depends plugin="JMX" />
	<depends plugin="JBossAS5" useClasses="true" />

	<server name="Data Services" description="JBoss Enterprise Data Services"
		class="PlatformComponent" discovery="PlatformDiscoveryComponent"
		singleton="true" >

		<runs-inside>
			<parent-resource-type name="JBossAS Server"
				plugin="JBossAS5" />
		</runs-inside>

		<operation name="listLongRunningQueries" displayName="View current long running queries"
			description="List current queries executing against the Teiid System that have surpassed the long running query threshhold">
			<results>
				<c:list-property name="list">
					<c:map-property name="map">
						<c:simple-property displayName="Session ID"
							name="getSessionId" type="string"
							description="The name of the resource whose availability is being reported" />
						<c:simple-property displayName="Request ID"
							name="getRequestId" type="string" description="The id for the request" />
						<c:simple-property displayName="SQL String"
							name="getCommand" type="string" description="The SQL string for this query" />
						<c:simple-property displayName="Source Request"
							name="sourceRequest" type="string"
							description="If false,this is the top level query. If true, this a physical source query." />
						<c:simple-property displayName="Execution ID"
							name="getExecutionId" type="string"
							description="The execution id for this request (if this is a physical source query)" />
						<c:simple-property displayName="Start Time"
							name="getCreatedTime" type="string" description="The time this query began" />
						<c:simple-property displayName="Start Time"
							name="getProcessingTime" type="string" description="Processing time for this request" />
						<c:simple-property displayName="Transaction ID"
							name="getTransactionId" type="string"
							description="The transaction XID if there is a transaction involved" />
						<c:simple-property displayName="Node ID" name="getNodeId"
							type="string" description="The node ID of this query" />
					</c:map-property>
				</c:list-property>
			</results>
		</operation>

		<operation name="getSessions" displayName="View current sessions"
			description="Get current sessions connected to the Teiid instance">
			<results>

				<c:list-property name="list" displayName="Current Sessions"
					description="Sessions currently connected to the Teiid system"
					required="false">
					<c:map-property name="map">
						<c:simple-property displayName="Session ID"
							name="getSessionId" type="string" description="The identifier for this session" />
						<c:simple-property displayName="Application Name"
							name="getApplicationName" type="string"
							description="The application associated with Session" />
						<c:simple-property displayName="Created Time"
							name="getCreatedTime" type="string" description="When the session was created" />
						<c:simple-property displayName="Client Host"
							name="getClientHostName" type="string"
							description="Host name from where the session created" />
						<c:simple-property displayName="IP Address"
							name="getIPAddress" type="string"
							description="IP address from where this session was created" />
						<c:simple-property displayName="Last ping time"
							name="getLastPingTime" type="string" description="Last ping time" />
						<c:simple-property displayName="User Name" name="getUserName"
							type="string" description="User associated with this session" />
						<c:simple-property displayName="VDB Name" name="getVDBName"
							type="string" description="VDB associated with this session" />
						<c:simple-property displayName="Security Domain"
							name="getSecurityDomain" type="string"
							description="Security Domain that session logged into" />
					</c:map-property>
				</c:list-property>
			</results>
		</operation>

		<operation name="getRequests" displayName="View current requests"
			description="Get current requests executing against this Teiid instance">
			<results>

				<c:list-property name="list" displayName="Current Request"
					description="Requests currently executing against the Teiid system"
					required="false">
					<c:map-property name="map">
						<c:simple-property displayName="Request ID"
							name="getRequestId" type="string" description="The request identifier" />
						<c:simple-property displayName="Session ID"
							name="getSessionId" type="string" description="Session identifier" />
						<c:simple-property displayName="Execution ID"
							name="getExecutionId" type="string" description="Unique Identifier for Request" />
						<c:simple-property displayName="Created Time"
							name="getCreatedTime" type="string" description="Time when request submitted" />
						<c:simple-property displayName="Processing Time"
							name="getProcessingTime" type="string" description="Processing time for the request" />
						<c:simple-property displayName="Last ping time"
							name="getCommand" type="string" description="SQL Command" />
						<c:simple-property displayName="Connector level request?"
							name="sourceRequest" type="string"
							description="True if this is a connector level request" />
						<c:simple-property displayName="Node ID" name="getNodeId"
							type="string" description="The node identifier" />
						<c:simple-property displayName="Tansaction identifier"
							name="getTransactionId" type="string"
							description="Transaction XID if a transaction is involved" />
					</c:map-property>
				</c:list-property>
			</results>
		</operation>

		<operation name="cancelRequest" displayName="Terminate request"
			description="Terminate the processing of a query and its source queries">
			<parameters>
				<c:simple-property displayName="Session ID" name="sessionID"
					type="long" required="true"
					description="The ID of the session that the request to cancel is associated with" />
				<c:simple-property displayName="Request ID" name="requestID"
					type="long" required="true" description="The ID of the request to cancel" />
			</parameters>
		</operation>

		<operation name="terminateSession" displayName="Terminate Session"
			description="Terminate a specified session">
			<parameters>
				<c:simple-property displayName="SessionID" name="sessionID"
					type="long" required="true" description="The ID of the session to terminate" />
			</parameters>
		</operation>

		<metric displayName="Query Count" defaultOn="true" displayType="detail"
			category="throughput" property="queryCount"
			description="The number of queries for a given point in time" />

		<metric displayName="Long Running Queries" defaultOn="true"
			displayType="detail" category="performance" property="longRunningQueries"
			description="The number of queries that have been running longer than the limit set for queries." />

		<metric displayName="Session Count" defaultOn="true"
			displayType="detail" category="throughput" property="sessionCount"
			description="The number of user connections for a given point in time" />

		<resource-configuration>
			<c:group name="general" displayName="General"
				hiddenByDefault="false">
				<c:description>Query Configuration</c:description>
				<c:simple-property name="longRunningQueryLimit"
					type="integer" activationPolicy="immediate" units="seconds"
					default="600" required="true" displayName="Long Running Query limit"
					description="The value (in seconds) to use to determine if a query is to be considered 'long running'.">
					<c:constraint>
						<c:integer-constraint minimum="0" maximum="999999" />
					</c:constraint>
				</c:simple-property>
			</c:group>
			<c:group name="teiidProperties" displayName="Teiid Properties"
				hiddenByDefault="false">
				<c:map-property name="teiidProperties" displayName="Runtime Engine Properties"
					description="Properties for use by the Teiid engine">
					<c:simple-property name="state" displayName="State"
						description="State of this Teiid instance" required="false"
						readOnly="true" />
					<c:simple-property name="resultSetCacheMaxEntries"
						displayName="Result Set Cache Max Entries" description="The maximum number of result set cache entries. 0 indicates no limit. (default 1024)"
						required="false" readOnly="true" />						
					<c:simple-property name="maxRowsFetchSize"
						displayName="Max Rows Fetch Size"
						description="The maximum number of result set cache entries. 0 indicates no limit. (default 1024)"
						required="false" readOnly="true" />
					<c:simple-property name="codeTablesMaxRows"
						displayName="Code Tables Max Rows"
						description="Maximum number of records in all lookup tables (default 200000)"
						required="false" readOnly="true" />
					<c:simple-property name="processName"
						displayName="Process Name" description="Name that uniquely identifies this process"
						required="false" readOnly="true" />
					<c:simple-property name="preparedPlanCacheMaxCount"
						displayName="Prepared Plan Cache Max Count"
						description="The maximum number of query plans that are cached. Note: this is a memory based cache. (default 250)"
						required="false" readOnly="true" />
					<c:simple-property name="maxThreads" displayName="Max Threads"
						description="Process pool maximum thread count. (default 16) Increase this value if your load includes a large number of XQueries or if the system's available processors is larger than 8"
						required="false" readOnly="true" />
					<c:simple-property name="timeSliceInMilli"
						displayName="Time Slice In Milli"
						description="Query processor time slice, in milliseconds. (default 2000)"
						required="false" readOnly="true" />
					<c:simple-property name="processDebugAllowed"
						displayName="Process Debug Allowed" description="True if process debug allowed"
						required="false" readOnly="true" />
					<c:simple-property name="lobChunkSizeInKB"
						displayName="Lob Chunk Size In KB"
						description="The max lob chunk size in KB transferred each time when processing blobs, clobs(100KB default)"
						required="false" readOnly="true" />
					<c:simple-property name="codeTablesMaxCount"
						displayName="Code Tables Max Count"
						description="The max lob chunk size in KB transferred each time when processing blobs, clobs(100KB default)"
						required="false" readOnly="true" />
					<c:simple-property name="resultSetCacheEnabled"
						displayName="Result Set Cache Enabled"
						description="Denotes whether or not result set caching is enabled. (default true)"
						required="false" readOnly="true" type="boolean"/>
					<c:simple-property name="codeTablesMaxRowsPerTable"
						displayName="Code Tables Max Rows PerTable"
						description="Maximum number of records in all lookup tables (default 200000)"
						required="false" readOnly="true" />
					<c:simple-property name="activeSessionsCount"
						displayName="Active Session Count" description="Count of active sessions"
						required="false" readOnly="true" />
				</c:map-property>
				<c:map-property name="bufferServiceProperties" displayName="Buffer Service Properties"
					description="Properties for use by the Buffer Service">
					<c:simple-property name="state" displayName="State"
						description="State of this bean instance" required="false"
						readOnly="true" />
					<c:simple-property name="processorBatchSize"
						displayName="Processor Batch Size" description="The max row count of a batch sent internally within the query processor. Should be &lt;= the connectorBatchSize. (default 256)"
						required="false" readOnly="true" />
					<c:simple-property name="connectorBatchSize"
						displayName="Connector Batch Size"
						description="The max row count of a batch from a connector. Should be even multiple of processorBatchSize. (default 512)"
						required="false" readOnly="true" />
					<c:simple-property name="maxProcessingBatchesColumns"
						displayName="Max Processing Batches Columns"
						description="The number of batch columns guarenteed to a processing operation.  Set this value lower if the workload typically processes larger numbers of concurrent queries with large intermediate results from operations such as sorting, grouping, etc. (default 128)"
						required="false" readOnly="true" />
					<c:simple-property name="maxFileSize"
						displayName="Max File Size" description="Max file size for buffer files (default 2GB)"
						required="false" readOnly="true" />
					<c:simple-property name="maxReserveBatchColumns"
						displayName="Max Reserve Batch Columns"
						description="The number of batch columns to allow in memory (default 16384).  This value should be set lower or higher depending on the available memory to Teiid in the VM.  16384 is considered a good default for a dedicated 32-bit VM running Teiid with a 1 gig heap."
						required="false" readOnly="true" />
				</c:map-property>
				<c:map-property name="authorizationServiceProperties" displayName="Authorization Service Properties"
					description="Properties for use by the Authorization Service">
					<c:simple-property name="state" displayName="State"
						description="State of this bean instance" required="false"
						readOnly="true" />
				</c:map-property>
				<c:map-property name="jdbcSocketConfigurationProperties" displayName="Jdbc Socket Configuration Properties"
					description="Properties for use by the Jdbc Socket Configuration">
					<c:simple-property name="state" displayName="State"
						description="State of this bean instance" required="false"
						readOnly="true" />
					<c:simple-property name="portNumber"
						displayName="Port Number" description="Port Number"
						required="false" readOnly="true" />
					<c:simple-property name="enabled" 
						displayName=" SSL Enabled"
						description="SSL enabled"
						required="false" readOnly="true" type="boolean" default="true" />
					<c:simple-property name="hostName"
						displayName="Host Name"
						description="Host Name"
						required="false" readOnly="true" />
					<c:simple-property name="maxSocketThreads"
						displayName="Max Socket Threads" description="Max NIO threads"
						required="false" readOnly="true" />
					<c:simple-property name="inputBufferSize"
						displayName="Input Buffer Size"
						description="SO_RCVBUF size, 0 indicates that system default should be used (default 0)"
						required="false" readOnly="true" />
					<c:simple-property name="outputBufferSize"
						displayName="Output Buffer Size"
						description="SO_SNDBUF size, 0 indicates that system default should be used (default 0)"
						required="false" readOnly="true" />	
				</c:map-property>
				<c:map-property name="sessionServiceProperties" displayName="Session Service Properties"
					description="Properties for use by the Session Service">
					<c:simple-property name="state" displayName="State"
						description="State of this bean instance" required="false"
						readOnly="true" />
					<c:simple-property name="sessionExpirationTimeLimit"
						displayName="Session Expiration Time Limit" description="Max allowed time before the session is terminated by the system, 0 indicates unlimited (default 0)"
						required="false" readOnly="true" />
					<c:simple-property name="sessionMaxLimit"
						displayName="Session Max Limit"
						description="Maximum number of sessions allowed by the system (default 5000)"
						required="false" readOnly="true" />
				</c:map-property>
			</c:group>
		</resource-configuration>

		<service name="Virtual Database (VDB)s"
			description="JBoss Enterprise Data Services Virtual Databases" class="VDBComponent"
			discovery="VDBDiscoveryComponent" createDeletePolicy="both"
			creationDataType="content">

			<operation name="getSessions" displayName="View VDB Sessions"
				description="Get current sessions currently connected to this VDB">
				<results>

					<c:list-property name="list" displayName="Current VDB Sessions"
						description="Sessions currently connected to this VDB" required="false">
						<c:map-property name="map">
							<c:simple-property displayName="Session ID"
								name="getSessionId" type="string" description="The identifier for this session" />
							<c:simple-property displayName="Application Name"
								name="getApplicationName" type="string"
								description="The application associated with Session" />
							<c:simple-property displayName="Created Time"
								name="getCreatedTime" type="string" description="When the session was created" />
							<c:simple-property displayName="Client Host"
								name="getClientHostName" type="string"
								description="Host name from where the session created" />
							<c:simple-property displayName="IP Address"
								name="getIPAddress" type="string"
								description="IP address from where this session was created" />
							<c:simple-property displayName="Last ping time"
								name="getLastPingTime" type="string" description="Last ping time" />
							<c:simple-property displayName="User Name"
								name="getUserName" type="string" description="User associated with this session" />
							<c:simple-property displayName="Security Domain"
								name="getSecurityDomain" type="string"
								description="Security Domain that session logged into" />
						</c:map-property>
					</c:list-property>
				</results>
			</operation>

			<operation name="getRequests" displayName="View VDB requests"
				description="Get current requests executing against this VDB">
				<results>

					<c:list-property name="list" displayName="Current Request"
						description="Requests currently executing against the Teiid system"
						required="false">
						<c:map-property name="map">
							<c:simple-property displayName="Request ID"
								name="getRequestId" type="string" description="The request identifier" />
							<c:simple-property displayName="Session ID"
								name="getSessionId" type="string" description="Session identifier" />
							<c:simple-property displayName="Execution ID"
								name="getExecutionId" type="string" description="Unique Identifier for Request" />
							<c:simple-property displayName="Created Time"
								name="getCreatedTime" type="string" description="Time when request submitted" />
							<c:simple-property displayName="Processing Time"
								name="getProcessingTime" type="string" description="Processing time for the request" />
							<c:simple-property displayName="Last ping time"
								name="getCommand" type="string" description="SQL Command" />
							<c:simple-property displayName="Connector level request?"
								name="sourceRequest" type="string"
								description="True if this is a connector level request" />
							<c:simple-property displayName="Node ID" name="getNodeId"
								type="string" description="The node identifier" />
							<c:simple-property displayName="Tansaction identifier"
								name="getTransactionId" type="string"
								description="Transaction XID if a transaction is involved" />
						</c:map-property>
					</c:list-property>
				</results>
			</operation>

			<metric displayName="Status" defaultOn="true" dataType="trait"
				displayType="summary" category="availability" property="status"
				description="The status of this VDB" />
				
			<metric displayName="Error" defaultOn="true" dataType="trait"
				displayType="summary" category="availability" property="errormessages"
				description="The status of this VDB" />	

			<content name="vdb" displayName="VDB Archive" category="deployable"
				isCreationType="true">
			</content>

			<resource-configuration>
				<c:group name="general" displayName="General"
					hiddenByDefault="false">
					<c:simple-property name="name" type="string"
						description="The Virtual Database Name" required="false" />
					<c:simple-property name="version" type="string"
						description="The Virtual Database Version" required="false" />
					<c:simple-property name="description" type="string"
						description="The Virtual Database Description" required="false" />
					<c:simple-property name="status" type="string"
						description="The Virtual Database Status" required="false"
						summary="true">
						<c:property-options>
							<c:option value="ACTIVE" name="ACTIVE" />
							<c:option value="INACTIVE" name="INACTIVE" default="true" />
						</c:property-options>
					</c:simple-property>
					<c:simple-property name="url" type="string"
						description="The Virtual Database URL" required="false" />
				</c:group>
				<c:group name="Models" displayName="Models" hiddenByDefault="false">
					<c:list-property name="sourceModels" readOnly="true" 
						description="The source models for this VDB">
						<c:map-property name="model">
							<c:simple-property name="name" displayName="Name"
								description="Name of the model" required="true" readOnly="true" />
							<c:simple-property name="sourceName"
								displayName="Source Name" description="Source name for this model"
								required="false" readOnly="true" />
							<c:simple-property name="jndiName"
								displayName="Connector Binding JNDI Name" description="JNDI name for this connector binding"
								required="false" />
							<c:simple-property name="visibility"
								displayName="Visible" description="Visibility of the model" 
								required="true">
							</c:simple-property>
							<c:simple-property name="supportsMultiSource"
								displayName="Supports Multi-source?"
								description="Determines if this model supports multi-source bindings"
								required="true" default="true" />
						</c:map-property>
					</c:list-property>
					<c:list-property name="logicalModels" readOnly="true"
						description="The logical models for this VDB">
						<c:map-property name="model">
							<c:simple-property name="name" displayName="Name"
								description="Name of the model" required="true" />
							<c:simple-property name="type" displayName="Type"
								description="type of logical model" required="true" />
							<c:simple-property name="visibility"
								displayName="Visible" description="Visbility of the model"
								required="true" default="true" />
						</c:map-property>
					</c:list-property>
				</c:group>
				<c:group name="errors" displayName="Errors" hiddenByDefault="false">
					<c:list-property name="errorList" description="VDB Errors"
						summary="true" readOnly="true">
						<c:map-property name="errorMap" summary="true">
							<c:simple-property name="severity" displayName="Severity"
								description="Severity" readOnly="true" summary="true" />
							<c:simple-property name="message" displayName="Message"
								description="Error message" readOnly="true" summary="true" />
						</c:map-property>
					</c:list-property>
				</c:group>
			</resource-configuration>

		</service>

	</server>

</plugin>