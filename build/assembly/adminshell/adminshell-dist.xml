<!--This script builds a JAR for the CDK -->
<assembly>
  
  <id>adminshell-dist</id>
  
  <formats>
    <format>zip</format>
  </formats>
  
  <includeBaseDirectory>true</includeBaseDirectory>
  <baseDirectory>teiid-adminshell-${version}</baseDirectory>

  <moduleSets>
    <moduleSet>
        <includeSubModules>true</includeSubModules>
               
        <includes>
            <include>org.jboss.teiid:teiid-adminshell</include>
        </includes>
                        
        <binaries>        
          <includeDependencies>true</includeDependencies>
          <unpack>false</unpack>
                                    
          <dependencySets>
            <dependencySet>
              <useProjectArtifact>true</useProjectArtifact>
              <unpack>false</unpack>
              <useTransitiveDependencies>true</useTransitiveDependencies>
              <useDefaultExcludes>true</useDefaultExcludes>
            </dependencySet>
          </dependencySets>
          <outputDirectory>lib</outputDirectory>
        </binaries>
      
    </moduleSet>
  </moduleSets>
  
  <fileSets>
      
    <fileSet>
        <directory>build/kit-adminshell</directory>
        <outputDirectory>/</outputDirectory>      
        <includes>
          <include>**/*.sh</include>
        </includes>   
        <fileMode>755</fileMode>      
    </fileSet> 
          
    <fileSet>
        <directory>build/kit-adminshell</directory>
        <outputDirectory>/</outputDirectory>      
        <excludes>
          <exclude>**/*.sh</exclude>
        </excludes>      
    </fileSet>      
    
    <fileSet>
      <directory>target/distribution</directory>
      <includes>
        <include>teiid-${version}-client.jar</include>
      </includes>
      <outputDirectory>lib</outputDirectory>      
    </fileSet>
        
  </fileSets>
    
</assembly>