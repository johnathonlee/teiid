<!--This script builds a JAR for the Embedded Server Installation -->
<assembly>
  
  <id>embedded-dist</id>
  
  <formats>
    <format>zip</format>
  </formats>
  
  <includeBaseDirectory>true</includeBaseDirectory>
  <baseDirectory>teiid-embedded-${version}</baseDirectory>

  <fileSets>
  
    <fileSet>
      <directory>target/distribution</directory>
      <includes>
        <include>teiid-${version}-embedded.jar</include>
      </includes>
      <outputDirectory>lib</outputDirectory>      
    </fileSet>
    
      <fileSet>
      <directory>target/distribution</directory>
      <includes>
        <include>teiid-${version}-client.jar</include>
      </includes>
      <outputDirectory>/</outputDirectory>      
    </fileSet>
      
    <fileSet>
      <directory>target/distribution/teiid-${version}-embedded-dependencies.dir</directory>
      <includes>
        <include>*.jar</include>
      </includes>
      <outputDirectory>lib</outputDirectory>      
    </fileSet>    
    
    <fileSet>
      <directory>target/distribution/teiid-${version}-connector-dependencies.dir</directory>
      <includes>
        <include>*.jar</include>
      </includes>
      <outputDirectory>extensions</outputDirectory>      
    </fileSet>      

    <fileSet>
        <directory>build/kit-embedded</directory>
        <outputDirectory>/</outputDirectory>      
        <excludes>
          <exclude>**/*.foo</exclude>
        </excludes>        
    </fileSet>      
  </fileSets>

  
</assembly>